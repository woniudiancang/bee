<view class="booking-container">
  <!-- é¡¶éƒ¨è£…é¥°åŒºåŸŸ -->
  <view class="header-banner">
    <view class="banner-bg"></view>
    <view class="banner-content">
      <view class="banner-icon">ğŸ¥¤</view>
      <view class="banner-title">åœ¨çº¿è®¢åº§</view>
      <view class="banner-subtitle">ä¸ºæ‚¨é¢„ç•™ç¾å¥½æ—¶å…‰</view>
    </view>
  </view>

  <!-- è¡¨å•å¡ç‰‡åŒºåŸŸ -->
  <view class="form-card">
    <view class="section-title">
      <view class="title-icon">ğŸ‘¤</view>
      <text class="title-text">é¢„è®¢ä¿¡æ¯</text>
    </view>
    
    <!-- å§“åè¾“å…¥ -->
    <view class="input-group">
      <view class="input-label">
        <text class="label-text">{{ $t.booking.name }}</text>
        <text class="label-required">*</text>
      </view>
      <van-field
        placeholder="{{ $t.booking.namePlaceholder }}"
        clearable
        focus
        custom-class="custom-field"
        model:value="{{ name }}"
      />
    </view>

    <!-- æ‰‹æœºå·è¾“å…¥ -->
    <view class="input-group">
      <view class="input-label">
        <text class="label-text">{{ $t.booking.mobile }}</text>
        <text class="label-required">*</text>
      </view>
      <van-field
        type="number"
        placeholder="{{ $t.booking.mobilePlaceholder }}"
        clearable
        custom-class="custom-field"
        model:value="{{ mobile }}"
      />
    </view>

    <!-- æ—¶é—´é€‰æ‹© -->
    <view class="input-group">
      <view class="input-label">
        <text class="label-text">{{ $t.booking.time }}</text>
        <text class="label-required">*</text>
      </view>
      <van-field
        placeholder="{{ $t.booking.timePlaceholder }}"
        readonly
        value="{{ time }}"
        is-link
        custom-class="custom-field"
        bindtap="showDatetimePop"
      />
    </view>
  </view>

  <!-- äººæ•°é€‰æ‹©å¡ç‰‡ -->
  <view class="form-card person-card">
    <view class="section-title">
      <view class="title-icon">ğŸ‘¥</view>
      <text class="title-text">{{ $t.booking.person }}</text>
    </view>
    
    <view class="persion-num">
      <view wx:for="{{persionNum[language]}}" wx:key="item" 
            class="person-item {{persionNumIndex == index ? 'active' : ''}}" 
            data-idx="{{index}}" 
            bindtap="changePersionNum">
        <view class="person-icon">{{persionNumIndex == index ? 'âœ“' : 'ğŸ‘¥'}}</view>
        <view class="person-text">{{ item }}</view>
      </view>
    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="submit-container">
    <view class="btn">
      <van-button type="primary" block bind:click="submit" custom-class="submit-btn">
        <text class="btn-text">{{ $t.booking.title }}</text>
      </van-button>
    </view>
    <view class="profile">{{ $t.booking.tip }}</view>
  </view>
</view>

<!-- æ—¶é—´é€‰æ‹©å¼¹çª— -->


<van-popup
  show="{{ showDatetimePop }}"
  position="bottom"
  bind:close="onClose">
  <van-datetime-picker
    type="datetime"
    value="{{ currentDate }}"
    min-date="{{ minDate }}"
    formatter="{{ formatter }}"
    filter="{{ filter }}"
    confirm-button-text="{{ $t.common.confirm }}"
    cancel-button-text="{{ $t.common.cancel }}"
    bind:confirm="confirm"
    bind:cancel="hideDatetimePop"
  />
</van-popup>