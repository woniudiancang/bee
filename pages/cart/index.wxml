<view class="cart-container">
  <!-- Á©∫Áä∂ÊÄÅ -->
  <view wx:if="{{ !shippingCarInfo }}" class="empty-state">
    <view class="empty-icon">üõí</view>
    <view class="empty-text">{{ $t.cart.empty }}</view>
    <view class="empty-tip">ÂéªÊ∑ªÂä†ÊÇ®ÂñúÊ¨¢ÁöÑÈ•ÆÂìÅÂêß</view>
  </view>

  <!-- Ë¥≠Áâ©ËΩ¶ÂÜÖÂÆπ -->
  <block wx:else>
    <!-- È°∂ÈÉ®Êìç‰ΩúÊ†è -->
    <view class="cart-header">
      <view class="cart-title">
        <view class="title-icon">‚òï</view>
        <view class="title-text">Ë¥≠Áâ©Ë¢ã</view>
        <view class="item-count">{{shippingCarInfo.number}}‰ª∂</view>
      </view>
      <view class="clear-btn" bindtap="clearCart">
        <van-icon name="delete-o" size="16px" color="#999" />
        <text>{{ $t.cart.clear }}</text>
      </view>
    </view>

    <!-- ÂïÜÂìÅÂàóË°® -->
    <view class="goods-list">
      <view class="goods-item" wx:for="{{shippingCarInfo.items}}" wx:key="key">
        <view class="item-card">
          <!-- ÂïÜÂìÅÂõæÁâá -->
          <view class="item-image">
            <image src="{{ item.pic }}" mode="aspectFill" class="goods-img" />
          </view>
          
          <!-- ÂïÜÂìÅ‰ø°ÊÅØ -->
          <view class="item-info">
            <view class="goods-name">{{ item.name }}</view>
            
            <!-- ËßÑÊ†º‰ø°ÊÅØ -->
            <view class="goods-specs">
              <block wx:for="{{item.sku}}" wx:for-item="option" wx:key="index">
                <view class="spec-tag">{{option.optionValueName}}</view>
              </block>
              <block wx:for="{{item.additions}}" wx:for-item="option" wx:key="index">
                <view class="spec-tag addition-tag">+{{option.name}}</view>
              </block>
            </view>
            
            <!-- ‰ª∑Ê†ºÂíåÊï∞Èáè -->
            <view class="item-bottom">
              <view class="goods-price">
                <text class="price-symbol">¬•</text>
                <text class="price-num">{{ item.price }}</text>
              </view>
              <view class="goods-stepper">
                <van-stepper 
                  value="{{ item.number }}" 
                  min="0" 
                  async-change 
                  disable-input 
                  data-idx="{{index}}" 
                  bind:change="cartStepChange"
                  button-size="28px"
                  theme="round"
                />
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- Â∫ïÈÉ®Âç†‰Ωç -->
    <view class="bottom-placeholder"></view>

    <!-- Â∫ïÈÉ®ÁªìÁÆóÊ†è -->
    <view class="submit-bar">
      <view class="bar-content">
        <view class="total-info">
          <view class="total-label">ÂêàËÆ°</view>
          <view class="total-price">
            <text class="currency">¬•</text>
            <text class="amount">{{ shippingCarInfo.price }}</text>
          </view>
          <view class="total-tip">ÂÖ±{{shippingCarInfo.number}}{{ $t.cart.num }}</view>
        </view>
        <view class="submit-btn" bindtap="goCreateOrder">
          <text>{{ $t.cart.btn }}</text>
          <van-icon name="arrow" color="#fff" size="16px" />
        </view>
      </view>
    </view>
  </block>
</view>
