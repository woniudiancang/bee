<view wx:if="{{apiOk && !orderList}}" class="no-order">
  <view class="empty-icon">ğŸ¥¤</view>
  <view class="content-1">{{ $t.order.empty.t1 }}</view>
  <view class="content-2">{{ $t.order.empty.t2 }}</view>
  <view class="to-index-btn" bindtap="toIndexPage">{{ $t.order.empty.btn }}</view>
</view>

<swiper class="swiper" indicator-dots="{{orderList && orderList.length > 1}}" indicator-color="rgba(255,255,255,0.3)" indicator-active-color="#fff" circular bindchange="bindchange">
  <swiper-item wx:for="{{orderList}}" wx:for-item="order" wx:key="id">
    <scroll-view scroll-y class="scroll-view">
      <view class="page-container">
        
        <!-- å–å•å·å¡ç‰‡ -->
        <view wx:if="{{!order.isNeedLogistics}}" class="pickup-card">
          <view class="card-header">
            <view class="header-icon">ğŸ“‹</view>
            <view class="header-title">{{ $t.PickingUp.qudanhao }}</view>
          </view>
          <view class="pickup-number-wrapper">
            <view class="pickup-number">{{order.qudanhao}}</view>
            <view class="pickup-tips">è¯·å‘åº—å‘˜å‡ºç¤ºå–é¤ç </view>
          </view>
          <view class="qrcode-wrapper">
            <view class="qrcode-container">
              <canvas class="hx-canvas" canvas-id="qrcode_{{index}}" />
              <view class="qrcode-corners">
                <view class="corner corner-tl"></view>
                <view class="corner corner-tr"></view>
                <view class="corner corner-bl"></view>
                <view class="corner corner-br"></view>
              </view>
            </view>
            <view class="qrcode-label">æ ¸é”€äºŒç»´ç </view>
          </view>
        </view>

        <!-- é…é€å¡ç‰‡ -->
        <view wx:if="{{order.isNeedLogistics}}" class="pickup-card delivery-card">
          <view class="card-header">
            <view class="header-icon">ğŸšš</view>
            <view class="header-title">{{ $t.PickingUp.Deliverying }}</view>
          </view>
          <view class="qrcode-wrapper delivery-qrcode">
            <view class="qrcode-container">
              <canvas class="hx-canvas" canvas-id="qrcode_{{index}}" />
              <view class="qrcode-corners">
                <view class="corner corner-tl"></view>
                <view class="corner corner-tr"></view>
                <view class="corner corner-bl"></view>
                <view class="corner corner-br"></view>
              </view>
            </view>
            <view class="qrcode-label">é…é€æ ¸é”€ç </view>
          </view>
        </view>

        <!-- é…é€åœ°å€å¡ç‰‡ -->
        <view wx:if="{{logisticsMap[order.id]}}" class="info-card address-card">
          <view class="card-section-title">
            <view class="title-icon">ğŸ“</view>
            <text>é…é€ä¿¡æ¯</text>
          </view>
          <view class="address-content">
            <view class="address-contact">
              <text class="contact-name">{{logisticsMap[order.id].linkMan}}</text>
              <text class="contact-phone">{{logisticsMap[order.id].mobile}}</text>
            </view>
            <view class="address-detail">{{logisticsMap[order.id].provinceStr}}{{logisticsMap[order.id].cityStr}}{{logisticsMap[order.id].areaStr}}{{logisticsMap[order.id].address}}</view>
          </view>
        </view>

        <!-- è®¢å•è¯¦æƒ…å¡ç‰‡ -->
        <view class="info-card order-card">
          <view class="card-section-title">
            <view class="title-icon">ğŸ“</view>
            <text>è®¢å•æ˜ç»†</text>
          </view>
          
          <view class="goods-list">
            <view wx:for="{{goodsMap[order.id]}}" wx:for-item="goods" wx:key="id" class="goods-item">
              <view class="goods-main">
                <view class="goods-name">{{goods.goodsName}}</view>
                <view class="goods-specs" wx:if="{{goods.property}}">{{goods.property}}</view>
              </view>
              <view class="goods-right">
                <view class="goods-quantity">x{{goods.number}}</view>
                <view class="goods-price">Â¥{{goods.amount}}</view>
              </view>
            </view>
          </view>

          <view class="divider-line"></view>
          
          <view class="total-row">
            <view class="total-label">{{ $t.PickingUp.total }}</view>
            <view class="total-amount">Â¥{{order.amountReal}}</view>
          </view>

          <view class="order-time">
            <text class="time-icon">ğŸ•</text>
            <text>{{ $t.order.dateAdd }}: {{order.dateAdd}}</text>
          </view>
        </view>

        <!-- åº•éƒ¨è£…é¥° -->
        <view class="bottom-decoration">
          <view class="decoration-line"></view>
          <view class="decoration-text">äº«å—æ¯ä¸€å£ç¾å¥½</view>
          <view class="decoration-line"></view>
        </view>

      </view>
    </scroll-view>
  </swiper-item>
</swiper>