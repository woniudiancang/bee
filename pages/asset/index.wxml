<!-- é¡µé¢å®¹å™¨ -->
<view class="wallet-container">
  
  <!-- ä½™é¢å¡ç‰‡ -->
  <view class="balance-card">
    <view class="balance-header">
      <view class="balance-icon">ğŸ’°</view>
      <view class="balance-label">{{ $t.order.balance }}</view>
    </view>
    <view class="balance-amount">
      <text class="currency">Â¥</text>
      <text class="amount-num">{{balance}}</text>
    </view>
    <view class="balance-decoration">
      <view class="circle circle-1"></view>
      <view class="circle circle-2"></view>
      <view class="circle circle-3"></view>
    </view>
  </view>

  <!-- å……å€¼åŒºåŸŸ -->
  <view class="recharge-section">
    <view class="section-title">
      <view class="title-icon">ğŸ</view>
      <view class="title-text">{{ $t.asset.recharge }}</view>
      <view class="title-line"></view>
    </view>

    <!-- å……å€¼å¥—é¤ -->
    <view class="recharge-plans">
      <view 
        wx:for="{{rechargeSendRules}}" 
        wx:key="id" 
        class="plan-card {{ruleSelIndex == index ? 'plan-active' : ''}}" 
        data-idx="{{index}}" 
        bindtap="changePersionNum">
        <view class="plan-badge" wx:if="{{item.send > 0}}">é€Â¥{{item.send}}</view>
        <view class="plan-amount">
          <text class="plan-currency">Â¥</text>
          <text class="plan-number">{{item.confine}}</text>
        </view>
        <view class="plan-label">{{ $t.asset.confine }}</view>
        <view class="plan-check" wx:if="{{ruleSelIndex == index}}">
          <van-icon name="success" color="#fff" size="16px" />
        </view>
        <view class="plan-shine" wx:if="{{ruleSelIndex == index}}"></view>
      </view>

      <!-- è‡ªå®šä¹‰é‡‘é¢ -->
      <view 
        class="plan-card plan-custom {{ruleSelIndex == -1 ? 'plan-active' : ''}}" 
        data-idx="-1" 
        bindtap="changePersionNum">
        <view class="custom-icon">âœï¸</view>
        <view class="custom-text">{{ $t.asset.other }}</view>
        <view class="plan-check" wx:if="{{ruleSelIndex == -1}}">
          <van-icon name="success" color="#fff" size="16px" />
        </view>
        <view class="plan-shine" wx:if="{{ruleSelIndex == -1}}"></view>
      </view>
    </view>

    <!-- ç¡®è®¤æŒ‰é’® -->
    <view class="action-btn">
      <view class="submit-btn" bind:tap="submit1">
        <text>{{ $t.asset.confirmBtn }}</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½å…¥å£ -->
  <view class="function-section">
    <view class="section-title">
      <view class="title-icon">ğŸ“‹</view>
      <view class="title-text">è´¦æˆ·è®°å½•</view>
      <view class="title-line"></view>
    </view>

    <view class="function-list">
      <navigator url="/pages/asset/recharge-log" class="function-item" hover-class="function-item-hover">
        <view class="function-icon-box recharge-icon">
          <text class="function-emoji">ğŸ’³</text>
        </view>
        <view class="function-content">
          <view class="function-title">{{ $t.asset.rechargeLogs }}</view>
          <view class="function-desc">æŸ¥çœ‹å……å€¼æ˜ç»†</view>
        </view>
        <van-icon name="arrow" color="#bbb" />
      </navigator>

      <navigator url="/pages/asset/cash-log" class="function-item" hover-class="function-item-hover">
        <view class="function-icon-box cash-icon">
          <text class="function-emoji">ğŸ’¸</text>
        </view>
        <view class="function-content">
          <view class="function-title">{{ $t.cashLog.title }}</view>
          <view class="function-desc">æŸ¥çœ‹æç°è®°å½•</view>
        </view>
        <van-icon name="arrow" color="#bbb" />
      </navigator>
    </view>
  </view>

</view>

<!-- è‡ªå®šä¹‰é‡‘é¢å¼¹çª— -->
<van-popup
  show="{{ showRechargePop }}"
  position="bottom"
  round
  closeable
  bind:close="onClose"
  custom-class="custom-popup">
  <view class="popup-content">
    <view class="popup-title">è‡ªå®šä¹‰å……å€¼é‡‘é¢</view>
    <van-field
      label="{{ $t.asset.amount }}"
      size="large"
      type="digit"
      clearable
      model:value="{{ amount2 }}"
      placeholder="{{ $t.asset.amountPlaceholder }}"
      bind:change="onChange"
      input-align="right"
    />
    <view class="popup-btn">
      <view class="submit-btn" bind:tap="submit2">
        <text>{{ $t.asset.confirmBtn }}</text>
      </view>
    </view>
  </view>
</van-popup>
<view class="bottom-blank"></view>

<payment
  money="{{ money }}"
  remark="{{ $t.payment.recharge }}"
  show="{{ paymentShow }}"
  bind:cancel="paymentCancel"
  bind:ok="paymentOk"
/>